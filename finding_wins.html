<!DOCTYPE html>
<html>

<head>
  <title>Moneyball</title>
  <link rel="stylesheet" type="text/css" href="styles.css">
  <script src='https://d3js.org/d3.v5.js'></script>
  <script src='./data.js'></script>
  <script src='./generate_charts.js'></script>
</head>

<body>
  <div class='nav'>
    <div class='nav__progress-bar__wrapper'>
      <div class='nav__progress-bar nav__progress-bar--4'></div>
      <div class='nav__progress-bar__bubble nav__progress-bar__bubble--4'></div>
    </div>
  
    <div class='nav__links'>
      <a href='./index.html' class='nav__links__link'>Overview</a>
      <a href='./wins_vs_salary.html' class='nav__links__link'>An Unfair System</a>
      <a href='./cost_per_win.html' class='nav__links__link'>Cost Per Win</a>
      <a href='./finding_wins.html' class='nav__links__link nav__links__link--active'>Finding Wins</a>
    </div>
  </div>

  <div id='wins_vs_walks'></div>
  <div id='walks_vs_salary'></div>

  <script>
    year_range = [1995, 2005];
    teams_with_salary_data = teams_with_salaries.data.filter(function (item) {
      return (item.yearID > year_range[0] && item.yearID < year_range[1])
    });
    let wins_vs_walks = scatter({
      id: 'wins_vs_walks',
      data: teams_with_salary_data,
      x_axis_label: 'Walks (Season)',
      y_axis_label: 'Wins',
      x_domain: [300, 900],
      y_domain: [40, 120],
      x_key: 'BB',
      y_key: 'W',
      regression: true
    });

    walks_vs_salary_data = batting_with_salaries.data.filter(function (item) {
      return (item.yearID > year_range[0] && item.yearID < year_range[1] && item.AB > 100 && item.salary)
    });
    let walks_vs_salary = scatter({
      id: 'walks_vs_salary',
      data: walks_vs_salary_data,
      x_axis_label: 'Salary',
      y_axis_label: 'Walk Rate',
      x_domain: [0, 15000000],
      y_domain: [0, 0.4],
      x_key: 'salary',
      y_key: 'walk_rate',
      regression: true
    });
  </script>
</body>

</html>
